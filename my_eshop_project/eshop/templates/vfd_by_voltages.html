{% extends "base.html" %}
{% load static %}
{% load custom_filters %}

{% block content %}
<div class="container my-4">
  <h2 class="text-center mb-4">VFD by Voltage Class</h2>

  <!-- 3 PHASE, 200VAC (A) Section -->
  <div class="white-board mb-4">
    <h3 class="text-center mb-3">{{ cat_200vac.name }}</h3>
    <div class="row">
      {% for product in products_200vac %}
      <div class="col-md-3 mb-4">
        <div class="card text-center" style="border:none; box-shadow:0 0 8px rgba(0,0,0,0.1); border-radius:5px;">
          <div class="card-body">
            {% if product.image %}
              <img src="{{ product.image.url }}" alt="{{ product.name }}"
                   style="width:100%; height:200px; object-fit:contain; background-color:#f9f9f9; border-radius:5px;"
                   class="mb-3">
            {% else %}
              <img src="{% static 'images/default-placeholder.png' %}" alt="No Image"
                   style="width:100%; height:200px; object-fit:contain; background-color:#f9f9f9; border-radius:5px;"
                   class="mb-3">
            {% endif %}

            <h6 class="fw-bold">{{ product.name }}</h6>
            <!-- If you want to hide price, just omit the block for price -->
            <a href="{% url 'ask_for_discount' product.sku %}"
               class="btn btn-sm btn-primary rounded-pill mt-2">
               Explore All
            </a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col">
        <p>No products found in {{ cat_200vac.name }}.</p>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- 3 PHASE, 400VAC (A) Section -->
  <div class="white-board mb-4">
    <h3 class="text-center mb-3">{{ cat_400vac.name }}</h3>
    <div class="row">
      {% for product in products_400vac %}
      <div class="col-md-3 mb-4">
        <div class="card text-center" style="border:none; box-shadow:0 0 8px rgba(0,0,0,0.1); border-radius:5px;">
          <div class="card-body">
            {% if product.image %}
              <img src="{{ product.image.url }}" alt="{{ product.name }}"
                   style="width:100%; height:200px; object-fit:contain; background-color:#f9f9f9; border-radius:5px;"
                   class="mb-3">
            {% else %}
              <img src="{% static 'images/default-placeholder.png' %}" alt="No Image"
                   style="width:100%; height:200px; object-fit:contain; background-color:#f9f9f9; border-radius:5px;"
                   class="mb-3">
            {% endif %}

            <h6 class="fw-bold">{{ product.name }}</h6>
            <a href="{% url 'ask_for_discount' product.sku %}"
               class="btn btn-sm btn-primary rounded-pill mt-2">
               Explore All
            </a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col">
        <p>No products found in {{ cat_400vac.name }}.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
